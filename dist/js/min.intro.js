!function(window){"use strict";function classReg(className){return new RegExp("(^|\\s+)"+className+"(\\s+|$)")}function toggleClass(elem,c){var fn=hasClass(elem,c)?removeClass:addClass;fn(elem,c)}var hasClass,addClass,removeClass;"classList"in document.documentElement?(hasClass=function(elem,c){return elem.classList.contains(c)},addClass=function(elem,c){elem.classList.add(c)},removeClass=function(elem,c){elem.classList.remove(c)}):(hasClass=function(elem,c){return classReg(c).test(elem.className)},addClass=function(elem,c){hasClass(elem,c)||(elem.className=elem.className+" "+c)},removeClass=function(elem,c){elem.className=elem.className.replace(classReg(c)," ")});var classie={hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,has:hasClass,add:addClass,remove:removeClass,toggle:toggleClass};"function"==typeof define&&define.amd?define(classie):window.classie=classie}(window),function(){"use strict";function SVGEl(el){this.el=el,this.image=this.el.previousElementSibling,this.current_frame=0,this.total_frames=130,this.path=new Array,this.length=new Array,this.handle=0,this.init()}function getViewportH(){var client=docElem.clientHeight,inner=window.innerHeight;return inner>client?inner:client}function scrollY(){return window.pageYOffset||docElem.scrollTop}function getOffset(el){var offsetTop=0,offsetLeft=0;do isNaN(el.offsetTop)||(offsetTop+=el.offsetTop),isNaN(el.offsetLeft)||(offsetLeft+=el.offsetLeft);while(el=el.offsetParent);return{top:offsetTop,left:offsetLeft}}function inViewport(el,h){var elH=el.offsetHeight,scrolled=scrollY(),viewed=scrolled+getViewportH(),elTop=getOffset(el).top,elBottom=elTop+elH,h=h||0;return viewed>=elTop+elH*h&&elBottom>=scrolled}function init(){var resizeTimeout,svgs=Array.prototype.slice.call(document.querySelectorAll("svg")),svgArr=new Array,didScroll=!1;svgs.forEach(function(el,i){var svg=new SVGEl(el);svgArr[i]=svg,setTimeout(function(el){return function(){inViewport(el.parentNode)&&svg.render()}}(el),250)});var scrollHandler=function(){didScroll||(didScroll=!0,setTimeout(function(){scrollPage()},60))},scrollPage=function(){svgs.forEach(function(el,i){inViewport(el.parentNode,.5)&&svgArr[i].render()}),didScroll=!1},resizeHandler=function(){function delayed(){scrollPage(),resizeTimeout=null}resizeTimeout&&clearTimeout(resizeTimeout),resizeTimeout=setTimeout(delayed,200)};window.addEventListener("scroll",scrollHandler,!1),window.addEventListener("resize",resizeHandler,!1)}var docElem=window.document.documentElement;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)}}(),window.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(id){window.clearTimeout(id)}}(),SVGEl.prototype.init=function(){var self=this;[].slice.call(this.el.querySelectorAll(".cool")).forEach(function(path,i){self.path[i]=path;var l=self.path[i].getTotalLength();self.length[i]=l,self.path[i].style.strokeDasharray=l+" "+l,self.path[i].style.strokeDashoffset=l})},SVGEl.prototype.render=function(){this.rendered||(this.rendered=!0,this.draw())},SVGEl.prototype.draw=function(){var self=this,progress=this.current_frame/this.total_frames;if(progress>1)window.cancelAnimFrame(this.handle),this.showImage();else{this.current_frame++;for(var j=0,len=this.path.length;len>j;j++)this.path[j].style.strokeDashoffset=Math.floor(this.length[j]*(1-progress));this.handle=window.requestAnimFrame(function(){self.draw()})}},SVGEl.prototype.showImage=function(){classie.add(this.image,"show"),classie.add(this.el,"hide")},init()}();